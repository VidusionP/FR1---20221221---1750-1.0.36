{"components/halothemes/products/product-view-review":"<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\">\r\n<style>\r\n    .checked {\r\n        color: rgb(255, 210, 0);\r\n    }\r\n    :root {\r\n  --rating-max: 5;\r\n  --rating-content: '★★★★★';\r\n  --rating-inactive-color: #CCCCCC;\r\n  --rating-background: #FFDD00;\r\n}\r\n.rating {\r\n  display: inline-block;\r\n  font-size: 30px;\r\n}\r\n.rating::before {\r\n  --rating-percent: calc(var(--rating-value) / var(--rating-max) * 100%);\r\n  content: var(--rating-content);\r\n  background: linear-gradient(90deg, var(--rating-background) var(--rating-percent), var(--rating-inactive-color) var(--rating-percent));\r\n  background-clip: text;\r\n  -webkit-background-clip: text;\r\n  color: transparent;\r\n}\r\n    .checked1 {\r\n            color: rgb(141 141 141);\r\n    }\r\n    .fa-star-o {\r\n        color: rgb(255, 210, 0);\r\n    }\r\n    .fa-star-o1 {\r\n        color: rgb(141 141 141) !important;\r\n\r\n    }\r\n    .pageItems {\r\n        margin-top: 20px;\r\n    }\r\n    .productView-reviews {\r\n        padding: 0 15px;\r\n        max-width: 1200px;\r\n        margin: auto;\r\n    }\r\n    .productReview-top {\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        justify-content: center;\r\n    }\r\n\r\n    .productReview-num {\r\n        font-size: 40px;\r\n        font-weight: 700;\r\n    }\r\n    .productReview-checked {\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n    .productReviews-card {\r\n        border-top: 1px solid #eee;\r\n        padding: 20px 0;\r\n    }\r\n    .productReviews-initial {\r\n        border-radius: 50%;\r\n        color: #bbb;\r\n        background-color: #f5f5f5;\r\n        height: 55px;\r\n        width: 69px;\r\n        font-weight: 700;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n    .productReviews-top {\r\n        display: flex;\r\n    }\r\n    .productReview-sepa {\r\n        margin-bottom: 10px;\r\n    }\r\n    .productReview-avg {\r\n        margin-top: 20px;\r\n        margin-bottom: 10px;\r\n    }\r\n    .productReviews-person {\r\n        margin-left: 10px;\r\n        width: 100%;\r\n    }\r\n    .productReviews-title {\r\n        font-weight: 700;\r\n        font-size: 15px;\r\n    }\r\n    .productReviews-body {\r\n        font-size: 14px;\r\n    }\r\n    .productReviews-name {\r\n        font-weight: 700;\r\n    }\r\n    .productReviews-location {\r\n        display: flex;\r\n    }\r\n    .productReviews-flag {\r\n        width: 18px;\r\n    }\r\n    .productReviews-location1 {\r\n        font-size: 12px;\r\n        font-weight: 400;\r\n        margin-left: 5px;\r\n    }\r\n    .paginator1 {\r\n        text-align: center;\r\n        \r\n    }\r\n    .paginator2 {\r\n        padding: 0 10px;\r\n    }\r\n    .goku1 {\r\n        height: 15px;\r\n        width: 100px;\r\n        position: relative;\r\n        background-color: #f0f0f0;\r\n        margin-left: 5px;\r\n    }\r\n    .goku2 {\r\n        height: 15px;\r\n        /* width: 100px; */\r\n        background-color: rgb(255, 210, 0);\r\n        position: absolute;\r\n    }\r\n    .productReview-perct {\r\n        background-color: #5e5e5e;\r\n        color: white;\r\n        padding: 3px;\r\n        font-weight: 600;\r\n    }\r\n    .productReviews-card-top {\r\n        display: flex;\r\n        justify-content: space-between;\r\n    }\r\n    .active {\r\n        text-decoration: underline;\r\n        font-weight: 700;\r\n    }\r\n    .pageButtons {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        justify-content: center;\r\n        font-size: 18px;\r\n        gap: 10px;\r\n    }\r\n    .pageButton {\r\n        margin-bottom: 10px;\r\n        padding-right: 15px;\r\n    }\r\n    .productReview-main {\r\n        border-bottom: 1px solid #eee;\r\n        /* margin-bottom: 50px; */\r\n        margin-top: 50px;\r\n    }\r\n    .productReview-main-box {\r\n        padding: 20px 0;\r\n        border-bottom: 3px solid black;\r\n        width: fit-content;\r\n        font-weight: 700;\r\n\r\n    }\r\n    .productReview-media {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        width: 310px;\r\n        gap: 5px;\r\n        margin-bottom: 10px;\r\n    }\r\n    .productReview-images {\r\n        gap: 5px;\r\n        display: flex;\r\n        flex-direction: row;\r\n        flex-wrap: wrap;\r\n    }\r\n    .productReview-images > img {\r\n        width: 70px;\r\n        object-fit: cover;\r\n        height: 70px;\r\n    }\r\n    .productReview-videos {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        gap: 5px;\r\n    }\r\n    .productReview-search {\r\n        margin-top: 10px;\r\n    }\r\n    .productReview-input {\r\n        width: 100%;\r\n        padding: 9px 4px 9px 40px;\r\n        font-size: 16px;\r\n        background: transparent url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' class='bi bi-search' viewBox='0 0 16 16'%3E%3Cpath d='M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z'%3E%3C/path%3E%3C/svg%3E\") no-repeat 13px center;\r\n        border: 1px solid #ccd6e0!important;\r\n        border-radius: 4px;\r\n        max-width: 500px;\r\n    }\r\n@media(min-width: 551px){\r\n        .productReview-top{\r\n            flex-direction: unset;\r\n            flex-wrap: wrap;\r\n            margin-top: 20px;\r\n            justify-content: unset;\r\n        }\r\n        .productReview-avg {\r\n            padding-right: 20px;\r\n        }\r\n        .productReview-sepa {\r\n            border-left: 1px solid #eee ;\r\n            border-right: 1px solid #eee ;\r\n            padding-left: 20px;\r\n            padding-right: 20px;\r\n            \r\n        }\r\n        .productReview-top-middle {\r\n            margin-top: 20px;\r\n        }\r\n\r\n    }\r\n    @media(min-width: 764px) {\r\n        .productReview-media {\r\n            padding-left: 20px;\r\n            width: 500px;\r\n        }\r\n        .productReview-images > img {\r\n        width: 100px;\r\n        object-fit: cover;\r\n        height: 100px;\r\n    }\r\n    }\r\n    .productReview-select {\r\n        -o-appearance: none;\r\n        -ms-appearance: none;\r\n        -webkit-appearance: none;\r\n        -moz-appearance: none;\r\n        appearance: none;\r\n        padding: 3px 5px;\r\n        background-image:  url(https://cdn.stamped.io/cdn/images/icon-arrow-down-bg.svg)!important;\r\n        background-position: right -1px center;\r\n        background-repeat: no-repeat;\r\n        width: 200px; \r\n        border: 1px solid #eee;\r\n        border-top: none;\r\n    }\r\n    .pageButton1 {\r\n        display: none;\r\n    }\r\n    .pageButton-arr1 {\r\n        padding-right: 10px;\r\n    }\r\n    .pageButton-arr2 {\r\n        padding-left: 10px;\r\n    }\r\n</style>\r\n\r\n<div class=\"productView-reviews\">\r\n    <div class=\"container container1\">\r\n        \r\n        <input type = \"hidden\" id = \"thingIWant\" value =\"{{product.sku}}\" />\r\n    </div>\r\n    <div class=\"productReview-top\">\r\n        <div class=\"productReview-avg\"></div>\r\n        <div class=\"productReview-sepa\" id=\"productReview-sepa\"></div>\r\n        <div class=\"productReview-media\">\r\n            <div class=\"productReview-images\"></div>\r\n            <div class=\"productReview-videos\"></div>\r\n        </div>\r\n    </div>\r\n    <div class=\"productReview-top-middle\"></div>\r\n    <div class=\"productReview-main\" id=\"productReview-main\"></div>\r\n    <div style=\"text-align: end;\">\r\n        <select class=\"productReview-select\" id=\"mySelect\" onchange=\"sortOption()\">\r\n            <option hidden>{{lang 'products.reviews.sort.sort'}}</option>\r\n            <option value=\"Most Recent\">{{lang 'products.reviews.sort.recent'}}</option>\r\n            <option value=\"With Photos\">{{lang 'products.reviews.sort.photos'}}</option>\r\n            <option value=\"Highest Rating\">{{lang 'products.reviews.sort.high'}}</option>\r\n            <option value=\"Lowest Rating\">{{lang 'products.reviews.sort.low'}}</option>\r\n\r\n        </select>    \r\n    </div>\r\n    <div class=\"productReview-search\">\r\n        <input class=\"productReview-input\" type=\"text\" id=\"myInput\" onkeyup='reviewBody(review3[0])' placeholder=\"{{lang 'products.reviews.search'}}\">\r\n    </div>\r\n    <div class=\"pageItems\" id=\"pageItems\"></div>\r\n    <div class=\"pageButtons\" id=\"pageButtons\">\r\n        <div class=\"pageButton-arr1\" id=\"pageButton-arr1\"><</div>\r\n        <div class=\"pageButton-main\" id=\"pageButton-main\"></div>\r\n        <div class=\"pageButton-arr2\" id=\"pageButton-arr2\">></div>\r\n    </div>\r\n</div>\r\n<script>\r\n    // import {$,jQuery} from 'jquery';\r\n\r\n    function sortOption() {\r\n        let x = document.getElementById('mySelect').value\r\n\r\n        if ( x === 'Highest Rating') {\r\n            const sortArr = review3[0].sort((a,b) => {\r\n            return b['Review rate'] - a['Review rate']\r\n        })\r\n        // arrow2.removeEventListener('click', checkTest1)\r\n            reviewBody(sortArr)\r\n\r\n        }\r\n        else if ( x === 'Lowest Rating') {\r\n            const sortArr = review3[0].sort((a,b) => {\r\n            return a['Review rate'] - b['Review rate']\r\n        })\r\n        reviewBody(sortArr)\r\n\r\n        }\r\n        else if ( x === 'Most Recent') {\r\n            const sortArr = review3[0].sort((a,b) => {\r\n                return new Date(b['Date Created1']) - new Date(a['Date Created1'])\r\n        })\r\n        reviewBody(sortArr)\r\n\r\n        }\r\n        else if ( x === 'With Photos') {\r\n            const sortArr = review3[0].sort((a,b) => {\r\n                return b['Review images'] === null || \"\" ? -1 : 1\r\n        })\r\n        reviewBody(sortArr)\r\n\r\n        }\r\n        // console.log(sortArr)\r\n    }\r\n\r\n    let review2 = []\r\n    let filteredAr1 =[]\r\n    let imageRoll = []\r\n    let videoRoll = []\r\n    let review3 = []\r\n\r\n\r\n    var aList = document.getElementById(\"thingIWant\").value;\r\n        if (aList == 'M106') {\r\n        aList = \"M106#1\"\r\n    } else if (aList == 'M106L') {\r\n        aList = 'M106L#1'\r\n    } else if (aList == 'Queen_18') {\r\n        aList = 'Q18'\r\n    } \r\n    var target = document.querySelector(\".container1\");\r\n    let reviewRate = []\r\n    let reviewNumb = {\r\n        1: \"hi\",\r\n        2: \"\",\r\n        3: \"\",\r\n        4: \"\",\r\n        5: \"\"\r\n    }\r\n\r\n\r\n     function main() {\r\n        input1 = document.getElementById(\"productReview-sepa\");\r\n        input1.innerHTML = '';\r\n        // $('.productReview-sepa').append('')\r\n        input = document.getElementById(\"myInput\");\r\n\r\n        Promise.all([\r\n            fetch(\"https://www.teamdesk.net/secure/api/v2/56554/BEA2566590EF4D14AA8D35AD0E2CEA77/Review/select.json\").then(r => r.json()).then(r=>{\r\n          \r\n                              review2.push(...r)}),\r\n            fetch(\"https://www.teamdesk.net/secure/api/v2/56554/BEA2566590EF4D14AA8D35AD0E2CEA77/Review/select.json?skip=500\").then(r => r.json()).then(r=>{\r\n          \r\n                              review2.push(...r)}),\r\n            fetch(\"https://www.teamdesk.net/secure/api/v2/56554/BEA2566590EF4D14AA8D35AD0E2CEA77/Review/select.json?skip=1000\").then(r => r.json()).then(r=>{\r\n          \r\n                              review2.push(...r)}),\r\n            fetch(\"https://www.teamdesk.net/secure/api/v2/56554/BEA2566590EF4D14AA8D35AD0E2CEA77/Review/select.json?skip=1500\").then(r => r.json()).then(r=>{\r\n          \r\n                              review2.push(...r)}),\r\n          ])\r\n.then((r) => {\r\n        const filteredAr = review2.filter(item => item['Product SKU'] === aList)\r\n    filteredAr.forEach((item) => {\r\n        filteredAr1.push(item)\r\n    }) \r\n    const sortedArr9 = filteredAr.reduce((acc, element) => {\r\n    if (element['location'] === 'Netherlands') {\r\n    return [element, ...acc];\r\n  } \r\n  return [...acc, element];\r\n\r\n}, []);\r\nconst sortedArr8 = sortedArr9.reduce((acc, element) => {\r\n    if (element['location'] === 'Norway') {\r\n    return [element, ...acc];\r\n  } \r\n  return [...acc, element];\r\n\r\n}, []);\r\nconst sortedArr7 = sortedArr8.reduce((acc, element) => {\r\n    if (element['location'] === 'Denmark') {\r\n    return [element, ...acc];\r\n  } \r\n  return [...acc, element];\r\n\r\n}, []);\r\nconst sortedArr6 = sortedArr7.reduce((acc, element) => {\r\n    if (element['location'] === 'Belgium') {\r\n    return [element, ...acc];\r\n  } \r\n  return [...acc, element];\r\n\r\n}, []);\r\n    const sortedArr5 = sortedArr6.reduce((acc, element) => {\r\n    if (element['location'] === 'United Kingdom') {\r\n    return [element, ...acc];\r\n  } \r\n  return [...acc, element];\r\n\r\n}, []);\r\nconst sortedArr4 = sortedArr5.reduce((acc, element) => {\r\n    if (element['location'] === 'Italy') {\r\n    return [element, ...acc];\r\n  } \r\n  return [...acc, element];\r\n\r\n}, []);\r\nconst sortedArr3 = sortedArr4.reduce((acc, element) => {\r\n    if (element['location'] === 'Ireland') {\r\n    return [element, ...acc];\r\n  } \r\n  return [...acc, element];\r\n\r\n}, []);\r\nconst sortedArr2 = sortedArr3.reduce((acc, element) => {\r\n    if (element['location'] === 'Germany') {\r\n    return [element, ...acc];\r\n  } \r\n  return [...acc, element];\r\n\r\n}, []);\r\nconst sortedArr1 = sortedArr2.reduce((acc, element) => {\r\n    if (element['location'] === 'Spain') {\r\n    return [element, ...acc];\r\n  } \r\n  return [...acc, element];\r\n\r\n}, []);\r\nconst sortedArr = sortedArr1.reduce((acc, element) => {\r\n    if (element['location'] === 'France') {\r\n    return [element, ...acc];\r\n  } \r\n  return [...acc, element];\r\n\r\n}, []);\r\nreview3.push(sortedArr)\r\n    reviewTop()\r\n    reviewBody(sortedArr)\r\n\r\n\r\n    \r\n\r\n})\r\n\r\n\r\n.catch((err) => {\r\n    console.log(err);\r\n});\r\n\r\n\r\n     }\r\nfunction reviewBody(sortedArr) {\r\n    let input2 = document.getElementById(\"pageButton-main\");\r\n    input2.innerHTML = '';\r\n\r\n    const filteredArr = sortedArr.filter(letterV => {\r\n        if (letterV['Review body']) {\r\n            return letterV['Review body'].toLowerCase().includes(input.value.toLowerCase())\r\n\r\n        }\r\n    }\r\n \r\n\r\n    )\r\n\r\n\r\n    var pages = paginate(8, filteredArr);\r\n\r\nfunction paginate(n, filteredAr1) {\r\n    return divide(n, filteredAr1).map(function (items, index) {\r\n        var number = n * index;\r\n\r\n        return {\r\n            start: number + 1,\r\n            end: number + items.length,\r\n            items: items,\r\n            page: index + 1\r\n        };\r\n    });\r\n}\r\n\r\n\r\nvar items = document.getElementById(\"pageItems\");\r\nvar buttons = document.getElementById(\"pageButton-main\");\r\nvar arrow1 = document.getElementById(\"pageButton-arr1\");\r\nvar arrow2 = document.getElementById(\"pageButton-arr2\");\r\nvar mainBody = document.getElementById('productReview-main')\r\n\r\n\r\nappendChildren(buttons, pages.map(function (page, index) {\r\n\r\n        var button = document.createElement(\"button\");\r\n    button.setAttribute(\"id\",index)\r\n    button.setAttribute(\"class\", 'pageButton')\r\n    button.addEventListener(\"click\", display);\r\n    button.myParam = page\r\n    button.innerHTML = index + 1;\r\n\r\n\r\n\r\n\r\n\r\n    if (index > 4) {\r\n    button.setAttribute(\"class\", 'pageButton pageButton1')\r\n\r\n    }\r\n\r\n    if (index === 0) {\r\n\r\n        button.setAttribute(\"class\", 'pageButton active')\r\n    }\r\n    return button;\r\n\r\n\r\n\r\n}));\r\nfunction display(page) {\r\n    const check6 = page.currentTarget.myParam\r\n        $(this).siblings().removeClass('pageButton1')\r\n\r\n        $(this).siblings().slice(+this.id + +2).addClass('pageButton1')\r\n        if (this.id >1) {\r\n            $(this).siblings().slice(0, +this.id - +2).addClass('pageButton1')\r\n        }\r\n    $(this).siblings().removeClass('active')\r\n    $(this).addClass('active');\r\n    const y = mainBody.getBoundingClientRect().top + window.scrollY;\r\n    window.scroll({\r\n        top: y,\r\n        behavior: 'smooth'\r\n    })\r\n        displayPage(check6);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\ndisplayPage(pages[0]);\r\nfunction displayPage(page,button) {\r\n    // header.innerHTML = \"Items \" + page.start + \" to \" + page.end + \":\";\r\n    // console.log(buttons)\r\n\r\n    items.start = page.start;\r\n    items.innerHTML = \"\";\r\n\r\n\r\n    appendChildren(items, page.items.map(function (element) {\r\n\r\n        $('#pageItems').append(`                     <div class=\"productReviews-card\">\r\n                            <div class=\"productReviews-top\">\r\n                                <div class=\"productReviews-initial\">` + (element['Author name'] ? element['Author name'][0] : 'A') + `</div>\r\n                                <div class=\"productReviews-person\">\r\n                                    <div class='productReviews-card-top'>\r\n                                        <div>\r\n                                            <div class=\"productReviews-name\">` + (element['Author name'] ? element['Author name'].split(' ').length > 1 ? element['Author name'].split(' ')[0] +  ' ' + element['Author name'].split(' ')[1][0] + '.' : element['Author name'] : 'Anonymous') + `</div>\r\n                                            ` + (element['country ISO'] && element['location'] ? `<div class=\"productReviews-location\"><img class=\"productReviews-flag\" src=https://cdn.stamped.io/cdn/flags/${element['country ISO']}.svg><div class=\"productReviews-location1\">${element['location']}</div></div>`: '') +  \r\n\r\n                                            `\r\n                                            \r\n                                        </div>\r\n                                        <div>\r\n                                            ` + new Date(parseInt(new Date(element['Date Created1']).getMonth()+1) + '/' +(new Date(element['Date Created1']).getDate()) + '/' + new Date(element['Date Created1']).getFullYear()).toLocaleDateString('fr-FR', {year: \"numeric\", month: \"long\", day: \"numeric\"}) +\r\n                                        `</div>\r\n                                    </div>\r\n                                    \r\n                                    <div  class=\"productReviews-rating\">\r\n                                        <span class=\"fa fa-star`+(1 <= element['Review rate']? ' checked': ' fa-star-o') + `\"></span>\r\n                                        <span class=\"fa fa-star`+(2 <= element['Review rate']? ' checked': ' fa-star-o') + `\"></span>\r\n                                        <span class=\"fa fa-star`+(3 <= element['Review rate']? ' checked': ' fa-star-o') + `\"></span>\r\n                                        <span class=\"fa fa-star`+(4 <= element['Review rate']? ' checked': ' fa-star-o') + `\"></span>\r\n                                        <span class=\"fa fa-star`+(5 <= element['Review rate']? ' checked': ' fa-star-o') + `\"></span>    \r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"productReviews-bottom\">\r\n                                <div class=\"productReviews-title\">` + (element['Review title']? element['Review title'] : '') + `</div>\r\n                                <div class=\"productReviews-body\">${element['Review body']}</div>\r\n                                <div class=\"productReviews-media\" style=display:flex;flex-wrap:wrap;>\r\n                                `\r\n                                    // + ( element['Review images'] === null|| \"\" ?  '' : `<img style=width:150px src=https://cdn.stamped.io/tr:h-800,tr:oi-uploads@@account@@91914@@meta@@watermark_image.jpg,ow-80,oit-false,oy-N35,ox-N35/uploads/photos/${element['Review images']} />` ) + `\r\n                                    + ( element['Review images'] === null|| \"\" ?  '' : element['Review images'].indexOf(',')> -1 ? element['Review images'].split(',').map(item => `<img style=width:110px;height:160px;object-fit:cover src=https://cdn.stamped.io/tr:h-800,tr:oi-uploads@@account@@91914@@meta@@watermark_image.jpg,ow-80,oit-false,oy-N35,ox-N35/uploads/photos/${item}>`) : `<img style=width:110px;height:160px;object-fit:cover src=https://cdn.stamped.io/tr:h-800,tr:oi-uploads@@account@@91914@@meta@@watermark_image.jpg,ow-80,oit-false,oy-N35,ox-N35/uploads/photos/${element['Review images']}>` )\r\n                                    + ( element['Review videos'] === null|| \"\" ?  '' : element['Review videos'].indexOf(',')> -1 ? element['Review videos'].split(',').map(item => `<video style=margin-left:5px; poster=\"//cdn.stamped.io/uploads/videos/${item}.jpg\" height=\"160px\" controls=\"\" preload=\"none\" onclick=\"event.stopPropagation(); this.play()\"><source src=\"//s3.us-west-2.amazonaws.com/stamped.io/uploads/videos/${item}.mp4#t=0.1\" type=\"video/mp4\"></video>`) : `<video style=margin-left:5px; poster=\"//cdn.stamped.io/uploads/videos/${element['Review videos']}.jpg\" height=\"160px\" controls=\"\" preload=\"none\" onclick=\"event.stopPropagation(); this.play()\"><source src=\"//s3.us-west-2.amazonaws.com/stamped.io/uploads/videos/${element['Review videos']}.mp4#t=0.1\" type=\"video/mp4\"></video>` ) + `\r\n                                </div>\r\n                                    </div>\r\n                            </div>\r\n                        </div>`);\r\n\r\n    }));\r\n}\r\n\r\nfunction appendChildren(element, children) {\r\n\r\n    children.forEach(function (child) {\r\n        if (child) {\r\n            element.appendChild(child);\r\n        }\r\n    });\r\n\r\n}\r\n\r\nfunction take(n, filteredAr1) {\r\n    return filteredAr1.slice(0, n);\r\n}\r\n\r\nfunction drop(n, filteredAr1) {\r\n    return filteredAr1.slice(n);\r\n}\r\n\r\nfunction concat(lists) {\r\n    return Array.prototype.concat.apply(this, lists);\r\n}\r\n\r\nfunction divide(n, filteredAr1) {\r\n    if (filteredAr1.length) {\r\n        var head = take(n, filteredAr1);\r\n        var tail = drop(n, filteredAr1);\r\n        return concat.call([head], [divide(n, tail)]);\r\n    } else return [];\r\n}\r\n}\r\nfunction reviewTop() {\r\n    filteredAr1.map(element => reviewRate.push(element['Review rate']))\r\n    filteredAr1.map(element => element['Review images'] === null ? \r\n    '':\r\n     imageRoll.push(...element['Review images'].split(',')))\r\n     filteredAr1.map(element => element['Review videos'] === null ? \r\n    '':\r\n     videoRoll.push(...element['Review videos'].split(',')))\r\n    const rate1 = filteredAr1.filter(x => x['Review rate']==1).length\r\n    const rate2 = filteredAr1.filter(x => x['Review rate']==2).length\r\n    const rate3 = filteredAr1.filter(x => x['Review rate']==3).length\r\n    const rate4 = filteredAr1.filter(x => x['Review rate']==4).length\r\n    const rate5 = filteredAr1.filter(x => x['Review rate']==5).length\r\n    const bar = (rate5/filteredAr1.length) * 100\r\n    // console.log(rate5/review2.length * 100)\r\n\r\n    const reviewAvg = Math.round((reviewRate.reduce((a,b ) => a+ b, 0)/reviewRate.length) * 10)/10 || 0\r\n    const reviewAvg1 = (Math.ceil(reviewAvg * 2)/2).toFixed(1)\r\n\r\n    $('#reviewMain').append(`\r\n    <div class=\"rating\" style=\"--rating-value: ${reviewAvg1};\"></div>\r\n                <div style=padding-left:10px;>\r\n                    ${filteredAr1.length} Commentaires\r\n                </div>\r\n    `)\r\n    $(\".productReview-avg\").append (\r\n    `\r\n                <span class='productReview-num'>${reviewAvg}</span>\r\n                <div class=\"rating\" style=\"--rating-value: ${reviewAvg1};\"></div>\r\n                <div class='productReview-para'>\r\n                    {{lang 'products.reviews.based' num='${filteredAr1.length}'}}\r\n                    \r\n                </div>\r\n                `\r\n    )\r\n    $(\".productReview-main\").append(\r\n        `\r\n        <div class='productReview-main-box'>\r\n            {{lang 'products.reviews.reviewNum' num='${filteredAr1.length}'}}\r\n        </div>\r\n\r\n        `\r\n    )\r\n    $('.productReview-sepa').append(\r\n        `\r\n            <div class='productReview-checked'>\r\n                <div>\r\n                    <span class=\"fa fa-star checked1\"></span>\r\n                    <span class=\"fa fa-star checked1\"></span>\r\n                    <span class=\"fa fa-star checked1\"></span>\r\n                    <span class=\"fa fa-star checked1\"></span>\r\n                    <span class=\"fa fa-star checked1\"></span>      \r\n                </div>\r\n                <div class=goku1><span class=goku2 style=width:${bar}%></span></div>\r\n                <div>(${rate5})</div>\r\n            </div>\r\n            <div class='productReview-checked'>\r\n                <div>\r\n                    <span class=\"fa fa-star checked1\"></span>\r\n                    <span class=\"fa fa-star checked1\"></span>\r\n                    <span class=\"fa fa-star checked1\"></span>\r\n                    <span class=\"fa fa-star checked1\"></span>\r\n                    <span class=\"fa fa-star fa-star-o fa-star-o1\"></span>      \r\n                </div>\r\n                <div class=goku1><span class=goku2 style=width:${(rate4/filteredAr1.length) * 100}%></span></div>\r\n                <div>(${rate4})</div>\r\n            </div>\r\n            <div class='productReview-checked'>\r\n                <div>\r\n                    <span class=\"fa fa-star checked1\"></span>\r\n                    <span class=\"fa fa-star checked1\"></span>\r\n                    <span class=\"fa fa-star checked1\"></span>\r\n                    <span class=\"fa fa-star fa-star-o fa-star-o1\"></span>\r\n                    <span class=\"fa fa-star fa-star-o fa-star-o1\"></span>      \r\n                </div>\r\n                <div class=goku1><span class=goku2 style=width:${(rate3/filteredAr1.length) * 100}%></span></div>\r\n                <div>(${rate3})</div>\r\n            </div>\r\n            <div class='productReview-checked'>\r\n                <div>\r\n                    <span class=\"fa fa-star checked1\"></span>\r\n                    <span class=\"fa fa-star checked1\"></span>\r\n                    <span class=\"fa fa-star fa-star-o fa-star-o1\"></span>\r\n                    <span class=\"fa fa-star fa-star-o fa-star-o1\"></span>\r\n                    <span class=\"fa fa-star fa-star-o fa-star-o1\"></span>      \r\n                </div>\r\n                <div class=goku1><span class=goku2 style=width:${(rate2/filteredAr1.length) * 100}%></span></div>\r\n                <div>(${rate2})</div>\r\n            </div>\r\n            <div class='productReview-checked'>\r\n                <div>\r\n                    <span class=\"fa fa-star checked1\"></span>\r\n                    <span class=\"fa fa-star fa-star-o fa-star-o1\"></span>\r\n                    <span class=\"fa fa-star fa-star-o fa-star-o1\"></span>\r\n                    <span class=\"fa fa-star fa-star-o fa-star-o1\"></span>\r\n                    <span class=\"fa fa-star fa-star-o fa-star-o1\"></span>      \r\n                </div>\r\n                <div class=goku1><span class=goku2 style=width:${(rate1/filteredAr1.length) * 100}%></span></div>\r\n                <div>(${rate1})</div>\r\n            </div>\r\n        `)\r\n        imageRoll.slice(0,8).forEach(item => {\r\n            // console.log(item[item.length])\r\n            // console.log(item)\r\n            $('.productReview-images').append(\r\n                `<img  src=https://cdn.stamped.io/tr:h-800,tr:oi-uploads@@account@@91914@@meta@@watermark_image.jpg,ow-80,oit-false,oy-N35,ox-N35/uploads/photos/${item}>`\r\n            )\r\n        })\r\n        videoRoll.slice(0,3).forEach(item => {\r\n            // console.log(item[item.length])\r\n            $('.productReview-videos').append(\r\n                `<video class=productReview-videos1 poster=\"//cdn.stamped.io/uploads/videos/${item}.jpg\" height=\"100px\" controls=\"\" preload=\"none\" onclick=\"event.stopPropagation(); this.play()\"><source src=\"//s3.us-west-2.amazonaws.com/stamped.io/uploads/videos/${item}.mp4#t=0.1\" type=\"video/mp4\"></video>`\r\n            )\r\n        })\r\n    $('.productReview-top-middle').append(\r\n        \r\n        `<div>\r\n            <span class='productReview-perct'>{{lang 'products.reviews.num' num='${Math.round(((rate5 + rate4 + rate3) /filteredAr1.length) * 100) || 0}'}}%</span>\r\n            {{lang 'products.reviews.recommend'}}</div>`\r\n    \r\n    )\r\n    $('.productReview-search').append(\r\n        `\r\n        <div>\r\n            \r\n        </div>\r\n        `\r\n    )\r\n    $('.productReview-images').append(\r\n        `\r\n        <div>\r\n            \r\n        </div>\r\n        `\r\n    )\r\n}\r\n     window.addEventListener(\"DOMContentLoaded\", main())\r\n</script>\r\n"}
